/*!
 * @barbosa89/vue-table v0.1.12
 * (c) Omar Barbosa
 * Released under the MIT License.
 */
import t from"axios";import e from"vue-runtime-helpers/dist/normalize-component.mjs";var s=e({render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[t._v("\n            Registros a mostrar:\n        ")]),t._v(" "),s("div",{staticClass:"col-12 col-sm-12 col-md-4 mr-auto mb-4"},[s("select",{directives:[{name:"model",rawName:"v-model.number",value:t.perPage,expression:"perPage",modifiers:{number:!0}}],staticClass:"form-control ml-md-1",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var s="_value"in e?e._value:e.value;return t._n(s)}));t.perPage=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"10"}},[t._v("10")]),t._v(" "),s("option",{attrs:{value:"25"}},[t._v("25")]),t._v(" "),s("option",{attrs:{value:"50"}},[t._v("50")]),t._v(" "),s("option",{attrs:{value:"100"}},[t._v("100")])])]),t._v(" "),s("div",{staticClass:"col-12 col-sm-12 col-md-4 mb-4"},[s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Buscar"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),t._m(0)])])]),t._v(" "),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table",attrs:{id:"categories"}},[s("thead",[s("tr",t._l(t.titles,(function(e,a){return s("th",{key:a,on:{click:function(s){return t.setSort(e)}}},[t._v("\n                        "+t._s(e.description)+" "),e.selected?s("span",[t._v("⇊")]):t._e()])})),0)]),t._v(" "),t.records.length>0?s("tbody",t._l(t.records,(function(e,a){return s("tr",{key:a,attrs:{id:a}},[t._t("record",null,{record:e})],2)})),0):s("tbody",[t._m(1)])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"mb-4 col-12 col-sm-12 col-md-6 col-lg-9 text-center text-sm-center text-md-left"},[t._v("\n            Registros del "+t._s(this.from)+" al "+t._s(this.to)+" de un total de "+t._s(this.total)+"\n        ")]),t._v(" "),s("div",{staticClass:"mb-4 col-12 col-sm-12 col-md-3 col-lg-2"},[s("nav",{attrs:{"aria-label":"Page navigation example"}},[s("ul",{staticClass:"pagination justify-content-center"},[s("li",{staticClass:"page-item"},[s("a",{staticClass:"page-link",class:[1==t.page?"disabled text-muted":""],attrs:{href:"#","aria-label":"First"},on:{click:t.goToFirst}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("<<")])])]),t._v(" "),s("li",{staticClass:"page-item"},[s("a",{staticClass:"page-link",class:[1==t.page?"disabled text-muted":""],attrs:{href:"#","aria-label":"Previous"},on:{click:t.goToPrev}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("<")])])]),t._v(" "),s("li",{staticClass:"page-item"},[s("a",{staticClass:"page-link",class:[t.page==t.last?"disabled text-muted":""],attrs:{href:"#","aria-label":"Next"},on:{click:t.goToNext}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v(">")])])]),t._v(" "),s("li",{staticClass:"page-item"},[s("a",{staticClass:"page-link",class:[t.page==t.last?"disabled text-muted":""],attrs:{href:"#","aria-label":"Last"},on:{click:t.goToLast}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v(">>")])])])])])]),t._v(" "),s("div",{staticClass:"mb-4 col-12 col-sm-12 col-md-3 col-lg-1"},[s("div",{staticClass:"input-group"},[s("input",{staticClass:"form-control",attrs:{type:"number",step:"1",placeholder:"Ir a página"},domProps:{value:t.page},on:{change:function(e){return t.setPage(e)}}}),t._v(" "),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"input-group-text"},[t._v("\n                        "+t._s(t.last)+"\n                    ")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"input-group-text",attrs:{id:"btnGroupAddon"}},[e("i",{staticClass:"fa fa-search"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("Sin datos")])])}]},void 0,{mounted:function(){this.prepareTitles()},created:function(){this.loadData()},props:{headers:{type:Array,default:function(){return[]}},url:{type:String,default:function(){return""}}},data:function(){return{titles:[],page:1,last:1,records:[],total:0,state:{},perPage:10,from:0,to:0,query:"",sort:"",direction:""}},watch:{page:function(){this.loadData()},perPage:function(){1==this.page?this.loadData():this.page=1},query:function(t){0==t.length||0==this.query.length?this.resetState():t.length>=3&&(this.state.hasOwnProperty("records")||this.saveState(),this.page=1,this.sort="",this.loadData())}},methods:{getLink:function(){return"".concat(this.url,"?page=").concat(this.page,"&per_page=").concat(this.perPage).concat(this.getQuery()).concat(this.getSortBy())},loadData:function(){var e=this;t.get(this.getLink()).then((function(t){e.last=t.data.last_page,e.total=t.data.total,e.from=t.data.from,e.to=t.data.to,e.records=t.data.data}))},nextPage:function(){this.page<this.last&&this.page++},saveState:function(){this.state.page=this.page,this.state.last=this.last,this.state.records=this.records,this.state.total=this.total,this.state.from=this.from,this.state.to=this.to,this.state.sort=this.sort},resetState:function(){this.records=this.state.records,this.page=this.state.page,this.last=this.state.last,this.total=this.state.total,this.from=this.state.from,this.to=this.state.to,this.sort=this.state.sort,this.state={}},goToFirst:function(){this.page=1},goToLast:function(){this.page=this.last},goToNext:function(){this.page<this.last&&this.page++},goToPrev:function(){this.page>1&&this.page--},setPage:function(t){var e=parseInt(t.target.value);e<1?this.page=1:e>this.last?this.page=this.last:this.page=e},getQuery:function(){return this.state.hasOwnProperty("records")&&this.query.length?"&query_by=".concat(this.query):""},getSortBy:function(){return this.sort.length?this.direction:""},prepareTitles:function(){var t=this;this.headers.length&&this.headers.forEach((function(e){t.$set(e,"selected",!1),t.titles.push(e)}))},setSort:function(t){this.titles.forEach((function(t){t.selected=!1})),t.selected=!0;var e=this.getDirection(t);this.sort==t.field?this.direction==e.asc?this.direction=e.desc:(this.direction,e.desc,this.direction=e.asc):(this.sort=t.field,this.direction=e.asc),this.loadData()},getDirection:function(t){return{desc:"&ordered_desc=".concat(t.field),asc:"&ordered_asc=".concat(t.field)}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function a(t){a.installed||(a.installed=!0,t.component("VueTable",s))}var i={install:a},r=null;"undefined"!=typeof window?r=window.Vue:"undefined"!=typeof global&&(r=global.Vue),r&&r.use(i);export default s;export{a as install};
//# sourceMappingURL=index.es.js.map
